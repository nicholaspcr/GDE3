
.PHONY: help
help:
	@python3 ./scripts/makefile_help.py Makefile $C

# Go {

.PHONY: go/download
## download dependencies
go/download:
	go mod download

.PHONY: go/build
## builds all binaries to the bin directory
go/build:
	# building the bin file
	@[ -d ./bin ] && true || mkdir -p bin
	go build ${GOFLAGS} -o bin ./cmd/...

.PHONY: go/test
## runs all tests on the repository
go/test:
	go test ./...

.PHONY: go/lint
## lints the all the golang files of the repository
go/lint:
	staticcheck ./...
	golint ./...
	@sh ./scripts/lint.sh

.PHONY: go/coverage
## coverage of the golang files in the repository
go/coverage:
	@sh ./scripts/coverage.sh

.PHONY: go/clean
## cleans all the possible dirty files generated by the other go commands
go/clean:
	# checks for coverage files
	@[ -f ./profile.cov ] && rm profile.cov	|| true
	@[ -f ./profile.cov.tmp ] && rm profile.cov.tmp || true
	# checks for bin folder
	@[ -d ./bin ] && rm -r ./bin || true
# }


# Python {

.PHONY: python
## TODO
python:

# }
